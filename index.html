<script>
    // Função para mostrar o formulário de cadastro
    function showForm() {
        const formContainer = document.getElementById('formContainer');
        const formTitle = document.getElementById('formTitle');
        const contactForm = document.getElementById('contactForm');

        // Limpa os campos do formulário
        contactForm.reset();
        document.getElementById('photoPreview').style.display = 'none';

        // Ajusta o título e exibe o formulário
        formTitle.textContent = 'Cadastrar Pessoa';
        formContainer.style.display = 'block';
    }

    // Função para ocultar o formulário de cadastro
    function hideForm() {
        const formContainer = document.getElementById('formContainer');
        formContainer.style.display = 'none';
    }

    // Função para visualizar a foto selecionada
    function previewPhoto() {
        const photoInput = document.getElementById('photo');
        const photoPreview = document.getElementById('photoPreview');
        const file = photoInput.files[0];

        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                photoPreview.src = e.target.result;
                photoPreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            photoPreview.style.display = 'none';
        }
    }

    // Inicializa a funcionalidade de cadastro
    document.getElementById('contactForm').addEventListener('submit', function (event) {
        event.preventDefault();

        // Lógica para salvar o contato
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const dob = document.getElementById('dob').value;
        const city = document.getElementById('city').value;
        const group = document.getElementById('group').value;
        const priority = document.getElementById('priority').value;
        const lastContact = document.getElementById('lastContact').value;
        const notes = document.getElementById('notes').value;
        const photo = document.getElementById('photoPreview').src;

        if (name && phone) {
            // Simula o armazenamento do contato
            console.log({
                name,
                phone,
                dob,
                city,
                group,
                priority,
                lastContact,
                notes,
                photo
            });

            alert('Pessoa cadastrada com sucesso!');
            hideForm();
        } else {
            alert('Por favor, preencha os campos obrigatórios.');
        }
    });
</script>
